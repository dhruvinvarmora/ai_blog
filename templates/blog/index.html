{% extends 'base.html' %}
{% load static %}

{% block title %}GreenThumb - Plant Care Blog{% endblock %}

{% block content %}
<!--Carousel Wrapper-->
<div id="carousel-thumb" class="carousel slide carousel-fade carousel-thumbnails" data-ride="carousel">
    <!--Slides-->
    <div class="carousel-inner" role="listbox">
        <div class="carousel-item active">
            <img class="d-block w-100" 
                 src="{% static 'images/plant-banner-1.jpg' %}" 
                 alt="Indoor Plants Collection"
                 loading="lazy">
            <div class="gradient"></div>
            <div class="carousel-caption">
                <h1>Beautiful Indoor Plants Collection</h1>
                <p class="lead">Discover the best plants for your home environment</p>
            </div>
        </div>
        <div class="carousel-item">
            <img class="d-block w-100" 
                 src="{% static 'images/flower-banner.jpg' %}" 
                 alt="Flowering Plants"
                 loading="lazy">
            <div class="gradient"></div>
            <div class="carousel-caption">
                <h1>Blooming Flower Care Guide</h1>
                <p class="lead">Learn how to keep your flowers thriving all year round</p>
            </div>
        </div>
        <div class="carousel-item">
            <img class="d-block w-100" 
                 src="{% static 'images/fruit-banner.jpg' %}" 
                 alt="Fruit Trees"
                 loading="lazy">
            <div class="gradient"></div>
            <div class="carousel-caption">
                <h1>Homegrown Fruit Trees</h1>
                <p class="lead">Grow your own delicious fruits at home</p>
            </div>
        </div>
    </div>
    <!--/.Slides-->
    <!--Controls-->
    <ol class="carousel-indicators">
        <li data-target="#carousel-thumb" data-slide-to="0" class="active">
            <img src="{% static 'images/plant-banner-1-thumb.jpg' %}" 
                 class="img-fluid"
                 alt="Indoor Plants Thumbnail"
                 loading="lazy">
            <span>Indoor Plants</span>
        </li>
        <li data-target="#carousel-thumb" data-slide-to="1">
            <img src="{% static 'images/flower-banner-thumb.jpg' %}" 
                 class="img-fluid"
                 alt="Flowering Plants Thumbnail"
                 loading="lazy">
            <span>Flowering Plants</span>
        </li>
        <li data-target="#carousel-thumb" data-slide-to="2">
            <img src="{% static 'images/fruit-banner-thumb.jpg' %}" 
                 class="img-fluid"
                 alt="Fruit Trees Thumbnail"
                 loading="lazy">
            <span>Fruit Trees</span>
        </li>
    </ol>
</div>
<!--/.Carousel Wrapper-->

<!-- Plant Gallery Section -->
<section id="portfolio">
    <div class="container">
        <h2>Recently Added Plant Guides</h2>
        <div class="row justify-content-center">
            <div class="col-md-12 col-12">
                <div class="row">
                    {% for post in posts|slice:":3" %}
                    <a href="{% url 'blog:post_detail' post.slug %}" class="col-xl-{% cycle '6' '3' '3' %} col-md-4 box-{% cycle '1' '2' '2' %}">
                        {% if post.featured_image %}
                           <img src="{{ post.featured_image.url }}" 
                                class="img-fluid" 
                                alt="{{ post.title }}"
                                loading="lazy">
                        {% elif post.featured_image_url %}
                           <img src="{{ post.featured_image_url }}" 
                                class="img-fluid" 
                                alt="{{ post.title }}"
                                loading="lazy">
                        {% else %}
                          <img src="{% static 'images/placeholder.jpg' %}" 
                               alt="No Image Available"
                               loading="lazy">
                        {% endif %}
                        <div class="overlay">
                            <img src="{% static 'images/comment.png' %}" 
                                 alt="plus-icon"
                                 loading="lazy">
                            <div class="text">{{ post.title }} <span>{{ post.get_category_display }}</span></div>
                            <div class="count">{{ post.view_count }}</div>
                        </div>
                    </a>
                    {% endfor %}
                </div>
                <div class="row">
                    {% for post in posts|slice:"3:6" %}
                    <a href="{% url 'blog:post_detail' post.slug %}" class="col-xl-{% cycle '3' '3' '6' %} col-md-4 box-{% cycle '2' '2' '1' %}">
                        {% if post.featured_image %}
                           <img src="{{ post.featured_image.url }}" 
                                class="img-fluid" 
                                alt="{{ post.title }}"
                                loading="lazy">
                        {% elif post.featured_image_url %}
                           <img src="{{ post.featured_image_url }}" 
                                class="img-fluid" 
                                alt="{{ post.title }}"
                                loading="lazy">
                        {% else %}
                          <img src="{% static 'images/placeholder.jpg' %}" 
                               alt="No Image Available"
                               loading="lazy">
                        {% endif %}
                        <div class="overlay">
                            <img src="{% static 'images/comment.png' %}" 
                                 alt="plus-icon"
                                 loading="lazy">
                            <div class="text">{{ post.title }} <span>{{ post.get_category_display }}</span></div>
                            <div class="count">{{ post.view_count }}</div>
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Blog Posts Section -->
<section class="blog">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-12 left-side">
                <h2>Recent Plant Care Articles</h2>
                {% for post in posts|slice:":4" %}
                <div class="row mb-4">
                    <div class="col-md-6">
                        <figure class="figure">
                            <a href="{% url 'blog:post_detail' post.slug %}">
                                {% if post.thumbnail %}
                                <img src="{{ post.thumbnail.url }}" 
                                     class="figure-img img-fluid" 
                                     alt="{{ post.title }}"
                                     loading="lazy">
                                {% elif post.thumbnail_url %}
                                <img src="{{ post.thumbnail_url }}" 
                                     class="figure-img img-fluid" 
                                     alt="{{ post.title }}"
                                     loading="lazy">
                                {% else %}
                                <img src="{% static 'images/placeholder.jpg' %}" 
                                     class="figure-img img-fluid" 
                                     alt="No Thumbnail Available"
                                     loading="lazy">
                                {% endif %}
                            </a>
                            <figcaption class="figure-caption">
                                <img src="{% static 'images/comment.png' %}" 
                                     alt="comment icon"
                                     loading="lazy">
                                <span>{{ post.view_count }}</span>
                            </figcaption>
                        </figure>
                    </div>
                    <div class="col-md-6">
                        <h4><a href="{% url 'blog:post_detail' post.slug %}">{{ post.title }}</a></h4>
                        <div class="btn-group">
                            <button class="btn btn-primary">
                                <i class="fa fa-eye" aria-hidden="true"></i> {{ post.view_count }}
                            </button>
                        </div>
                        <p>Posted on : {{ post.created_at|date:"d.m.Y" }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="col-lg-6 col-md-12">
                <div class="row">
                    <div class="col-md-12">
                        <div class="right-side">
                            <h3>About GreenThumb</h3>
                            <figure>
                                <img src="{% static 'images/contact-us-banner-image.jpg' %}" 
                                     alt="Plant enthusiast"
                                     loading="lazy">
                            </figure>
                            <h5>Welcome to my plant care blog! I'm passionate about helping people grow healthy plants, whether they're indoor houseplants, beautiful flowers, or productive fruit trees. Join me on this green journey!</h5>
                            <div class="social-links">
                                <a href="#"><i class="fa fa-facebook-square" aria-hidden="true"></i></a>
                                <a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                                <a href="#"><i class="fa fa-pinterest-square" aria-hidden="true"></i></a>
                                <a href="#"><i class="fa fa-youtube-square" aria-hidden="true"></i></a>
                            </div>
                            <address>
                                <span>Email: aigeneratedblogs@gmail.com</span>
                            </address>
                            <h2>Plant Care Questions?</h2>
                            <form id="contact" method="post" class="form" role="form">
                                <div class="row">
                                    <div class="col-xs-6 col-md-6 form-group">
                                        <input class="form-control" id="name" name="name" placeholder="Name" type="text" required/>
                                    </div>
                                    <div class="col-xs-6 col-md-6 form-group">
                                        <input class="form-control" id="email" name="email" placeholder="Email" type="email" required />
                                    </div>
                                </div>
                                <textarea class="form-control" id="message" name="message" placeholder="Your plant question..." rows="5"></textarea>
                                <br />
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 form-group">
                                        <button class="btn btn-primary" type="submit">Ask Your Question</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}